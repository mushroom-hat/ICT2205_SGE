{% extends 'layout.html' %}

{% block title %}Home{% endblock %}

{% block content %}
<h2>Welcome, {{ username }}!</h2>
<br>Please cast your <b>single</b> vote for your preferred candidate. Once your vote is submitted it cannot be changed. Your vote is fully <b>ANONYMOUS</b> with our <b>Zero Knowledge Proof (ZKP)</b> system. The voting key is used to ensure <FONT COLOR="GREEN"><b>fair and secure voting</b></FONT> when tabulating the votes.
<p>
  <b>Your voting key is:</b> {{public_key_nice}}
</p>
<h2>Your Candidates</h2>

<table>
  <tr>
    <th>Candidate ID</th>
    <th>Candidate Name</th>
    <th>Cast Vote Here</th>
  </tr>
  {% for candidate in candidates %}
  <tr>
    <td>{{candidate['id']}}</td>
    <td>{{candidate['name']}}</td>
    <td>
      <form method="POST">
        <input type="hidden" name="candidate_id" value="{{candidate['id']}}">
        <button type="submit">VOTE</button> 
      </form>
    </td>
  </tr>
  {% endfor %}
</table>
{% endblock %}
